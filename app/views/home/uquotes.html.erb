<h3>Recent Quotes</h3>
<hr />
<% @quotes.each do |quote| %>
  <div class="card bg-body-tertiary" style="margin-bottom:10px">
    <div class="card-body">
      <h4 class="card-title">"<%= quote.quote_text %>"</h4>

      <p class="card-text">
        <strong>Author:</strong> 
        <% if quote.philosopher %>
          <%= quote.philosopher.phil_first_name %> <%= quote.philosopher.phil_last_name %> 
          (<%= quote.philosopher.birth_year %> - <%= quote.philosopher.death_year || 'Present' %>)
        <% else %>
          Unknown Philosopher
        <% end %>
      </p>

      <p class="card-text">
        <strong>Publication Year:</strong> <%= quote.pub_year %>
      </p>

      <% if quote.comment.present? %>
        <p class="card-text"><strong>Comment:</strong> <%= quote.comment %></p>
      <% end %>

      <p class="card-text"><strong>Categories:</strong>
        <% if quote.categories.any? %>
          <% quote.categories.each_with_index do |category, index| %>
            <%= "#{index + 1}. #{category.category_name}" %><br>
          <% end %>
        <% else %>
          No categories assigned
        <% end %>
      </p>

      <p class="card-text"><strong>Visibility:</strong> 
        <%= quote.is_public ? "Public" : "Private" %>
      </p>

      <a href="/quotes/<%= quote.id %>" class="btn btn-primary">View Full Quote</a>
    </div>
  </div>
<% end %>
